{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"meteor/templating","imported":["Template"],"specifiers":[{"kind":"named","imported":"Template","local":"Template"}]},{"source":"../api/tasks.js","imported":["Tasks"],"specifiers":[{"kind":"named","imported":"Tasks","local":"Tasks"}]},{"source":"meteor/reactive-dict","imported":["ReactiveDict"],"specifiers":[{"kind":"named","imported":"ReactiveDict","local":"ReactiveDict"}]},{"source":"./task.js","imported":[],"specifiers":[]},{"source":"./body.html","imported":[],"specifiers":[]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/ui/body.js","filenameRelative":"/imports/ui/body.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/ui/body.js.map","sourceFileName":"/imports/ui/body.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"body"},"ignored":false,"code":"var _meteor = require('meteor/meteor');\n\nvar _templating = require('meteor/templating');\n\nvar _tasks = require('../api/tasks.js');\n\nvar _reactiveDict = require('meteor/reactive-dict');\n\nrequire('./task.js');\n\nrequire('./body.html');\n\n_templating.Template.body.onCreated(function () {\n  function bodyOnCreated() {\n    this.state = new _reactiveDict.ReactiveDict();\n  }\n\n  return bodyOnCreated;\n}());\n\n_templating.Template.body.helpers({\n  tasks: function () {\n    function tasks() {\n\n      var instance = _templating.Template.instance();\n      if (instance.state.get('hideCompleted')) {\n        // If hide completed is checked, filter tasks\n        return _tasks.Tasks.find({ checked: { $ne: true } }, { sort: { createdAt: -1 } });\n      }\n\n      // Otherwise, return all of the tasks\n      return _tasks.Tasks.find({}, { sort: { createdAt: -1 } });\n    }\n\n    return tasks;\n  }(),\n  incompleteCount: function () {\n    function incompleteCount() {\n      return _tasks.Tasks.find({ checked: { $ne: true } }).count();\n    }\n\n    return incompleteCount;\n  }()\n});\n\n_templating.Template.body.events({\n  'submit .new-task': function () {\n    function submitNewTask(event) {\n      // Prevent default browser form submit\n      event.preventDefault();\n\n      // Get value from form element\n      var target = event.target;\n      var text = target.text.value;\n\n      _meteor.Meteor.call('tasks.insert', text);\n\n      // Clear form\n      target.text.value = '';\n    }\n\n    return submitNewTask;\n  }(),\n  'change .hide-completed input': function () {\n    function changeHideCompletedInput(event, instance) {\n      instance.state.set('hideCompleted', event.target.checked);\n    }\n\n    return changeHideCompletedInput;\n  }()\n});","ast":null,"map":{"version":3,"sources":["/imports/ui/body.js"],"names":[],"mappings":"AAAA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AAEA,qBAAS,IAAT,CAAc,SAAd;AAAwB,WAAS,aAAT,GAAyB;AAC/C,SAAK,KAAL,GAAa,gCAAb,CAD+C;GAAzB;;SAAS;GAAjC;;AAIA,qBAAS,IAAT,CAAc,OAAd,CAAsB;AAClB;qBAAQ;;AAER,UAAM,WAAW,qBAAS,QAAT,EAAX,CAFE;AAGR,UAAI,SAAS,KAAT,CAAe,GAAf,CAAmB,eAAnB,CAAJ,EAAyC;;AAEvC,eAAO,aAAM,IAAN,CAAW,EAAE,SAAS,EAAE,KAAK,IAAL,EAAX,EAAb,EAAuC,EAAE,MAAM,EAAE,WAAW,CAAC,CAAD,EAAnB,EAAzC,CAAP,CAFuC;OAAzC;;;AAHQ,aASD,aAAM,IAAN,CAAW,EAAX,EAAe,EAAE,MAAM,EAAE,WAAW,CAAC,CAAD,EAAnB,EAAjB,CAAP,CATQ;;;;KADU;AAYlB;+BAAkB;AAClB,aAAO,aAAM,IAAN,CAAW,EAAE,SAAS,EAAE,KAAK,IAAL,EAAX,EAAb,EAAuC,KAAvC,EAAP,CADkB;;;;KAZA;CAAtB;;AAiBA,qBAAS,IAAT,CAAc,MAAd,CAAqB;AACnB;2BAAmB,OAAO;;AAExB,YAAM,cAAN;;;AAFwB,UAKlB,SAAS,MAAM,MAAN,CALS;AAMxB,UAAM,OAAO,OAAO,IAAP,CAAY,KAAZ,CANW;;AAQxB,qBAAO,IAAP,CAAY,cAAZ,EAA4B,IAA5B;;;AARwB,YAWxB,CAAO,IAAP,CAAY,KAAZ,GAAoB,EAApB,CAXwB;;;;KADP;AAejB;sCAA+B,OAAO,UAAU;AAChD,eAAS,KAAT,CAAe,GAAf,CAAmB,eAAnB,EAAoC,MAAM,MAAN,CAAa,OAAb,CAApC,CADgD;;;;KAf/B;CAArB","file":"/imports/ui/body.js.map","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { Template } from 'meteor/templating';\nimport { Tasks } from '../api/tasks.js';\nimport { ReactiveDict } from 'meteor/reactive-dict';\n \nimport './task.js';\nimport './body.html';\n\nTemplate.body.onCreated(function bodyOnCreated() {\n  this.state = new ReactiveDict();\n});\n \nTemplate.body.helpers({\n    tasks() {\n\n    const instance = Template.instance();\n    if (instance.state.get('hideCompleted')) {\n      // If hide completed is checked, filter tasks\n      return Tasks.find({ checked: { $ne: true } }, { sort: { createdAt: -1 } });\n    }\n\n        // Otherwise, return all of the tasks\n    return Tasks.find({}, { sort: { createdAt: -1 } });\n  },\n    incompleteCount() {\n    return Tasks.find({ checked: { $ne: true } }).count();\n  },\n});\n\nTemplate.body.events({\n  'submit .new-task'(event) {\n    // Prevent default browser form submit\n    event.preventDefault();\n \n    // Get value from form element\n    const target = event.target;\n    const text = target.text.value;\n\n    Meteor.call('tasks.insert', text);\n \n    // Clear form\n    target.text.value = '';\n\n  },\n    'change .hide-completed input'(event, instance) {\n    instance.state.set('hideCompleted', event.target.checked);\n  },\n});"]},"hash":"9abe56504a87f7a400a453d50da532abd9f1d2c5"}
